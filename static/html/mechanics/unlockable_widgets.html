
<style>
.unk-container > div{
        font-size: 30px;
        padding: .5em;
        margin: .5em;
        text-align: center;
        width:90%;
        font-size:4vw;
}
.unk-container > div > img{
        width: 25%;
        height: 60%;
        -webkit-transition: .15s;
        transition: .15s; 
    }
.flip-card {
  background-color: transparent;
  width: 250px;
  height: 250px;
  perspective: 1000px;
}

.flip-card-inner {
  position: relative;
  width: 100%;
  height: 100%;
  text-align: center;
  transition: transform 0.6s;
  transform-style: preserve-3d;
  box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);
}

.flip-card:hover .flip-card-inner {
  transform: rotateY(180deg);
}

.flip-card-front, .flip-card-back {
  position: absolute;
  width: 30%;
  height: 100%;
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
}

.flip-card-front {
  background-color: #bbb;
  color: black;
}

.flip-card-back {
  background-color: #2980b9;
  color: white;
  transform: rotateY(180deg);
}
</style>

<div id = "unk-widget-dynamic_index" class="unk-container"></div>
<param id = "unk-widget-handshake-dynamic_index" value=0></param> 

<script>
document.querySelector("#unk-widget-handshake-dynamic_index").value = 1;
function render_unk(unlockable){
	document.querySelector("#unk-widget-dynamic_index").innerHTML = unlockable.html;
    $(unlockable.html).appendTo(document.body);
}

function selectPolicy(list){
	select = [];
	for (let i = 0; i < Math.min(5, list.length); i++) {
	  select.push(list[i]);
	}
	return select
}

function unlock(unlockable){

}

function fillHTML(data){
document.getElementById("unk-widget-dynamic_index").innerHTML += '<div class="flip-card">'+
																  '<div class="flip-card-inner">'+
																    '<div class="flip-card-front">'+
																      '<img src="https://www.flaticon.com/svg/vstatic/svg/0/827.svg?token=exp=1615225341~hmac=a4b78ba965dc14ba74b7e3cfc91b6c16" alt="Avatar" style="width:200px;height:200px;">'+
																    '</div>'+
																    '<div class="flip-card-back">'+
																      '<h1>John Doe</h1> '+
																      '<p>Architect & Engineer</p> '+
																      '<p>We love that guy</p>'+
																    '</div>'+
																  '</div>'+
																'</div>';
}

url = "https://agmodule.herokuapp.com/api/unlockables/";
fetch(url)
.then(response => response.json())
.then(res_json => (res_json.results))
.then((list) => (selectPolicy(list))) // Select Policy: select the first (could be random, or other policy)
.then((unlockables) => (console.log(unlockables),
						unlockables.forEach((item,index) => (fillHTML(item)))))
.catch(error => (console.log("Error: " + error)))
</script>